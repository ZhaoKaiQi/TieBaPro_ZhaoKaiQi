 (function(e,d){var b=d.require,a,f={noBtnClass:"div.btn-no .btn-txt",yesBtnClass:"div.btn-yes .btn-txt",contentClass:"div.dialog-content",titleClass:"h3.dialog-title"},c;a=function(g){var h=e.extend(true,{},f,g),j,i=this;if(h.ele){this.setTmpl(h.el);h.ele=null}this._settings=h;this._deferred=null;j={noBtnClick:function(k){k.preventDefault();i._deferred.reject();i.hide()},yesBtnClick:function(k){k.preventDefault();i._deferred.resolve();i.hide()}};this.eventHandlers=j};c=a.prototype;c._bindInteractEvents=function(g){var i=["noBtn","yesBtn"],h=this;e.each(i,function(j,k){e(g[k+"Class"],h.el).on("click",h.eventHandlers[k+"Click"])})};c._createPromise=function(){if(this._deferred&&this._deferred.state()==="pending"){this._deferred.reject()}this._deferred=new e.Deferred();return this._deferred.promise()};c.show=function(){var g,h;this._setVisible(true);g=this.el.scrollHeight;h=this.el.scrollWidth;this.$el.css("margin-top",-Math.round(g/2)+"px");this.$el.css("margin-left",-Math.round(h/2)+"px");return this._createPromise()};c.hide=function(){this._setVisible(false);return this};c._setVisible=function(h){var g,i="hide";if(!this.el||this._visible==h){return}if(h){i="show"}this.$overlayer[i]();this.$el[i]()};c.setTmpl=function(h){var g;this.el=h;this.$el=e(h);this.$content=this.$el.find(this._settings.contentClass);this.$title=this.$el.find(this._settings.titleClass);this._createOverlayer();this.$overlayer.insertBefore(this.el);this.$overlayer.find("div.dialog-mask-content").append(this.el);this._bindInteractEvents(this._settings)};c.setContent=function(g){if(g.content){this.$content.html(g.content)}if(g.title){this.$title.html(g.title)}};c._createOverlayer=function(){var g;if(!this.$overlayer){g=e('<div class="mod-dialog-mask"><div class="dialog-mask"></div><div class="dialog-mask-content"></div></div>');this.$overlayer=g}};c.dispose=function(){this.el=null;this.$el=null;this.$overlayer=null;this.$content=null;this.$title=null};d.define("ui/dialog/confirm",a)})(baidu,window.Pass);(function(c,b){var a=b.require;function d(e){this.config=c.extend(e,{});this.label=c("."+d.staticVar.classLabelName,e.container).eq(0);this.inputDom=c("."+d.staticVar.className,e.container).eq(0);this._validations=[];this.addValidation(this.config.validations);this.msgDom=this.config.msgDom||this.inputDom.siblings(".pass-input-msg");this.succDom=this.config.succDom||this.inputDom.siblings(".pass-input-check-success");this._errno=0;this.timer=null;this._value=this.config.defaultValue||this.inputDom.val()||"";this.init()}d.staticVar={className:"pass-input",classFocus:"pass-input-focus",classHover:"pass-input-hover",classError:"pass-input-error",classCheckSuccess:"pass-input-check-success",classLabelName:"pass-input-label",classLabelHover:"pass-input-label-hover",classLabelFocus:"pass-input-label-focus"};d.prototype.init=function(){var e=this;this.inputDom.on("mouseover",function(f){e._mouseover(f)});this.inputDom.on("mouseout",function(f){e._mouseout(f)});this.inputDom.on("focus",function(f){e._focus(f)});this.inputDom.on("blur",function(f){e._blur(f)});this.inputDom.on("keydown",function(f){e._keydown(f)});this.inputDom.on("keyup",function(f){e._keyup(f)});this.inputDom.on("keypress",function(f){e._keypress(f)});this.label.on("click",function(f){e._labelClick(f)});c(document).on("mouseover",function(f){f=baidu.event(f||window.event);var g=f.target;if(g!=e.inputDom.get(0)&&!e.inputDom.contains(g)&&g!=e.label.get(0)&&!e.label.contains(g)){e.inputDom.removeClass(d.staticVar.classHover);e.label.removeClass(d.staticVar.classLabelHover)}else{e.inputDom.addClass(d.staticVar.classHover);e.label.addClass(d.staticVar.classLabelHover)}});if(this._value!=""){this.label.hide()}};d.prototype.addValidation=function(e){if(Object.prototype.toString.call(e)=="[object Function]"){this._validations.push(e)}};d.prototype._validate=function(){var e=this._validations.length;while(e--){var f=this._validations[e].call(this,this._value);this.setErrno(f.errNo);if(f.errNo){this.errorShow(f.msg);break}else{this.okShow()}}};d.prototype.getErrno=function(){return this._errno};d.prototype.setErrno=function(e){this._errno=e};d.prototype.getValue=function(){return this._value};d.prototype.setValue=function(e){this._value=e;this._validate()};d.prototype.errorShow=function(e){this.inputDom.addClass(d.staticVar.classError);if(this.succDom){this.succDom.hide()}this.msgDom.html(e)};d.prototype.okShow=function(){this.inputDom.removeClass(d.staticVar.classError);this.inputDom.removeClass(d.staticVar.classCheckSuccess);if(this.succDom){this.succDom.show()}this.msgDom.html("")};d.prototype._checkEmpty=function(e){if(this.inputDom.val()!=""){if(!this.label.hasClass("hide")){this.label.css("display","none")}}else{if(!this.label.hasClass("hide")){this.label.css("display","block")}}};d.prototype._labelClick=function(e){this.inputDom.get(0).focus()};d.prototype._mouseover=function(e){if(!this.inputDom.hasClass(d.staticVar.classFocus)){this.inputDom.addClass(d.staticVar.classHover);this.label.addClass(d.staticVar.classLabelHover)}if(this.config.onmouseover){this.config.onmouseover(e,this.inputDom,this.label)}};d.prototype._mouseout=function(e){if(this.config.onmouseout){this.config.onmouseout(e,this.inputDom,this.label)}};d.prototype._focus=function(e){clearTimeout(this.timer);this.inputDom.removeClass(d.staticVar.classError);this.inputDom.removeClass(d.staticVar.classHover);this.inputDom.addClass(d.staticVar.classFocus);this.label.removeClass(d.staticVar.classLabelHover);this.label.addClass(d.staticVar.classLabelFocus);this.inputDom.siblings(".pass-input-msg").text("");this._checkEmpty();if(this.config.onfocus){this.config.onfocus(e,this.inputDom,this.label)}};d.prototype._blur=function(e){var g=this,f=g.inputDom.val();this.inputDom.removeClass(d.staticVar.classHover);this.inputDom.removeClass(d.staticVar.classFocus);this.label.removeClass(d.staticVar.classLabelHover);this.label.removeClass(d.staticVar.classLabelFocus);this._checkEmpty();if(f==""){this.timer=setTimeout(function(){g.setValue(f)},150)}else{g.setValue(f)}if(this.config.onblur){this.config.onblur(e,this.inputDom,this.label)}};d.prototype._keydown=function(e){var g=this,f=g.inputDom.val();this.label.hide();if(e.keyCode==13){g.setValue(f)}if(this.config.onkeydown){this.config.onkeydown(e,this.inputDom,this.label)}};d.prototype._keyup=function(e){if(this.config.onkeyup){this.config.onkeyup(e,this.inputDom,this.label)}};d.prototype._keypress=function(e){if(this.config.onkeypress){this.config.onkeypress(e,this.inputDom,this.label)}};d.prototype.submit=function(){this._validate();return{errno:this._errno,value:this._value}};b.define("ui/form/input",d)})(baidu,window.Pass);(function(d,c){var b=c.require;function a(e){this.config=d.extend({type:"submit"},e);this.button=d(e.dom);this._validations=[];this._errno=0;this._time=this.config.sTime||60;this.addValidation(this.config.validations);this.timeShowType=this.config.showType?a.timer2:a.timer;this.init()}a.submit={className:"pass-button-submit",hover:"pass-button-submit-hover",press:"pass-button-submit-press",disabled:"pass-button-submit-disabled"};a.timer={className:"pass-button-timer",hover:"pass-button-timer-hover",press:"",disabled:"pass-button-timer-timing"};a.timer2={className:"pass-button-timer2",hover:"pass-button-timer2-hover",press:"pass-button-timer2-press",disabled:"pass-button-timer2-timing"};a.prototype.init=function(){var f=this;var e=a.submit;if(this.config.type=="timer"){e=f.timeShowType}this.button.on("mouseover",function(g){if(!(f.config.type=="timer"&&this.className.indexOf(f.timeShowType.disabled)>=0)){this.className=e.className+" "+e.hover}});this.button.on("mouseout",function(g){if(!(f.config.type=="timer"&&this.className.indexOf(f.timeShowType.disabled)>=0)){this.className=e.className}});this.button.on("mousedown",function(g){if(!(f.config.type=="timer"&&this.className.indexOf(f.timeShowType.disabled)>=0)){this.className=e.className+" "+e.press}});this.button.on("mouseup",function(g){if(!(f.config.type=="timer"&&this.className.indexOf(f.timeShowType.disabled)>=0)){this.className=e.className}});this.clickCallBack=function(g){f._validate();if(f.getErrno()!==0){return}if(f.config.type=="timer"){if(f.config.url){f._post()}else{f._timing()}}if(f.config.onclick!=null){f.config.onclick(g,this.button)}};this.button.on("click",this.clickCallBack)};a.prototype.addValidation=function(e){if(Object.prototype.toString.call(e)=="[object Function]"){this._validations.push(e)}};a.prototype._validate=function(){var e=this._validations.length;while(e--){var f=this._validations[e].call(this,this._value);this.setErrno(f.errNo);if(f.errNo){break}}};a.prototype.getErrno=function(){return this._errno};a.prototype.setErrno=function(e){this._errno=e};a.prototype._post=function(){var e=this;if(e.config.beforeSend){e.config.beforeSend()}d.post(e.config.url,e.config.data(),function(f){if(f.errno=="110000"){e.config.success(f);e._timing()}else{e.config.error(f)}},"json")};a.prototype._timing=function(){var f=this;var g=this._time;f.button.off("click");this.button.get(0).className=f.timeShowType.className+" "+f.timeShowType.disabled;d(f.button).html("重新发送("+(g)+")");var e=setInterval(function(){var h="重新发送"+(--g>0?"("+g+")":"");d(f.button).html(h);if(g==0){clearInterval(e);f.button.get(0).className=f.timeShowType.className;f.button.on("click",f.clickCallBack)}},1000)};c.define("ui/form/button",a)})(baidu,window.Pass);(function(d,c){var b=c.require;function a(e){this.tpl='<a class="mod-feedback clearfix" id="mod_feedback" href="http://passport.baidu.com/v2/?ucenterfeedback#ucenter_0" target="_blank"><div class="feedback-inner">意见反馈</div></a>';this.init()}a.prototype.init=function(){var e=this;d(document.body).append(e.tpl);this.addValidation("center");this.bindEvent()};a.prototype.addValidation=function(e){var i=baidu("#mod_feedback");var j=baidu(document).children();var g=baidu(document.body).scrollTop();var h=baidu(window).height();var f=(baidu.browser.ie<7);if(f){i.hide();i.css({position:"absolute",right:"-1px",top:g+h/2-40+"px"});j.css({"overflow-x":"hidden"});setTimeout(function(){i.show()},300)}else{if(e){i.css({position:"fixed",top:g+h/2-40+"px"})}}};a.prototype.bindEvent=function(){var e=this;baidu(window).on("scroll",function(){e.addValidation()})};c.define("ui/feedback/feedback",a)})(baidu,window.Pass);